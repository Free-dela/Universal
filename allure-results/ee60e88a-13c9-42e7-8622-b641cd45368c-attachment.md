# Test info

- Name: Summary Flow >> Assure
- Location: C:\Users\Tecdata\Desktop\Universal\tests\vizzauniversal.spec.ts:180:5

# Error details

```
Error: locator.click: Target page, context or browser has been closed
Call log:
  - waiting for getByRole('button', { name: 'Review Link' })

    at C:\Users\Tecdata\Desktop\Universal\tests\vizzauniversal.spec.ts:90:26
```

# Test source

```ts
   1 | import { test, expect } from '@playwright/test';
   2 | import path from 'path';
   3 | import { Page } from '@playwright/test';
   4 |
   5 | test.beforeEach('Login', async ({ page, isMobile }) => {
   6 |   // Go to the home page
   7 |   await page.goto('https://vizzainsurance.com/home');
   8 |   // Click on the Policy Login link
   9 |   await page.getByRole('link', { name: 'Policy Login' }).click();
   10 |   // Enter the User Name
   11 |   await page.getByRole('textbox', { name: 'User Name' }).type('6382228561');
   12 |   // Enter the Password
   13 |   await page.getByRole('textbox', { name: 'Password' }).type('Sakthi@1602');
   14 |   // Verify the User Name value
   15 |   await expect(page.getByRole('textbox', { name: 'User Name' })).toHaveValue('6382228561');
   16 |   // Verify the Password value
   17 |   await expect(page.getByRole('textbox', { name: 'Password' })).toHaveValue('Sakthi@1602');
   18 |   // Click on the Login button
   19 |   await page.locator('#main-content').getByRole('button', { name: 'Login' }).click();
   20 |   // Hover over the Online Insurance link
   21 |   await page.getByRole('link', { name: 'Online Insurance' }).hover();
   22 |   // Click on the Online Insurance link
   23 |   await page.getByRole('link', { name: 'Online Insurance' }).click();
   24 |   // Click on the Health Insurance link
   25 |   await page.getByRole('link', { name: 'Health Insurance', exact: true }).click();
   26 |   // Verify the Health Insurance heading is visible
   27 |   await expect(page.getByRole('heading', { name: 'vizza-Health-Insurance Health' })).toBeVisible();
   28 | });
   29 |
   30 | export const FormHelper = {
   31 |   async fillFormAndUploadFiles(page: Page) {
   32 |     const currentDate = new Date();
   33 |     const formattedDate = `${currentDate.getDate()}/${currentDate.getMonth() + 1}/${currentDate.getFullYear()}`;
   34 |     await page.locator('#mat-input-79').type(formattedDate);
   35 |     await page.locator('span.mat-button-wrapper:has-text("Next")').nth(0).click();
   36 |     const radio100 = page.locator('#mat-radio-100').getByText('No');
   37 |     const radio52 = page.locator('#mat-radio-52').getByText('No');
   38 |     const radio64 =  page.locator('#mat-radio-64').getByText('No');
   39 |     // Label: Check if the radio button #mat-radio-100 is visible
   40 |     if (await radio100.isVisible()) {
   41 |       await radio100.click();
   42 |     } 
   43 |     // Label: Check if the radio button #mat-radio-52 is visible
   44 |     else if (await radio52.isVisible()) {
   45 |       await radio52.click();
   46 |     } 
   47 |     // Label: Check if the radio button #mat-radio-64 is visible
   48 |     else if (await radio64.isVisible()) {
   49 |       await radio64.click();
   50 |     } 
   51 |     // Label: Throw an error if none of the radio buttons are visible
   52 |     else {
   53 |       throw new Error('Neither #mat-radio-100 nor #mat-radio-52 radio button is visible');
   54 |     }
   55 |     await page.getByRole('textbox', { name: 'PAN Number' }).fill('gjkpm0846p');
   56 |     await page.getByRole('button', { name: 'Submit' }).click();
   57 |     const imagePath = path.join(__dirname, '../assets/Arunkumar.jpg');
   58 |     for (let i = 0; i < 3; i++) {const fileInput = page.locator('input[type="file"]').nth(i);
   59 |       await fileInput.setInputFiles(imagePath);await page.waitForTimeout(2000);}
   60 |     const checkbox = page.locator('#mat-checkbox-25');
   61 |     // Label: Check if the checkbox #mat-checkbox-25 is visible
   62 |     if (await checkbox.isVisible()) {
   63 |       await checkbox.scrollIntoViewIfNeeded();
   64 |       await checkbox.click();
   65 |     } 
   66 |     // Label: Throw an error if the checkbox is not visible
   67 |     else {
   68 |       throw new Error('Checkbox #mat-checkbox-25 not visible for interaction');
   69 |     }
   70 |     await page.locator('span.mat-button-wrapper:has-text("Submit")').click();      },};
   71 |
   72 | export const Acceptaccess = async (page: Page) => 
   73 |   // Label: Check if the "Ok" button is visible
   74 |   {if (await page.getByRole('button', { name: 'Ok' }).isVisible()) {
   75 |       await page.getByRole('button', { name: 'Ok' }).click();
   76 |     } 
   77 |     // Label: Click the "₹ 13280/Yr" button if "Ok" button is not visible
   78 |     else {
   79 |       await page.getByRole('button', { name: '₹ 13280/Yr' }).click();
   80 |     }
   81 |   }
   82 |
   83 | test.describe.parallel('Summary Flow', () => {
   84 | test.afterEach('Summary', async ({ page,isMobile }) => {
   85 |   const ReviewLinkButton = page.getByRole('button', { name: 'Review Link' });
   86 |   // Label: Check if the "Review Link" button is visible on mobile
   87 |   if (isMobile) {
   88 |     await ReviewLinkButton.scrollIntoViewIfNeeded();
   89 |   }
>  90 |   await ReviewLinkButton.click();
      |                          ^ Error: locator.click: Target page, context or browser has been closed
   91 |   await page.waitForTimeout(2000);
   92 |   const payButton = page.getByRole('button', { name: 'Pay by Customer' });
   93 |   // Label: Check if the "Pay by Customer" button is visible on mobile
   94 |   if (isMobile) {
   95 |     await payButton.scrollIntoViewIfNeeded();
   96 |   }
   97 |   await payButton.click();
   98 | });
   99 |
  100 | test('Comprehensive', async ({ page :page1, isMobile }) => {
  101 |
  102 |     if (isMobile) {await page1.waitForTimeout(4000);
  103 |       await page1.getByRole('button').filter({ hasText: 'menu' }).click();
  104 |       await page1.locator('a').filter({ hasText: 'Health Insurance' }).click();
  105 |       await page1.waitForTimeout(5000);
  106 |       await page1.getByRole('textbox', { name: 'Email' }).type('freedela0912@gmail.com');
  107 |       await page1.getByRole('textbox', { name: 'Name' }).type('Star');
  108 |       await page1.getByRole('textbox', { name: 'Mobile Number' }).fill('8531913069');
  109 |       await page1.getByRole('button', { name: 'Next' }).click();
  110 |       await page1.locator('#mat-input-25').type('25');
  111 |       await page1.locator('#mat-input-27').type('25');
  112 |       await page1.getByRole('textbox', { name: 'PIN CODE' }).type('600012');
  113 |       await page1.getByRole('button', { name: 'Proceed' }).click();
  114 |       await page1.waitForTimeout(5000);
  115 |       await page1.getByRole('button', { name: '₹ 13280/Yr' }).click();
  116 |       await Acceptaccess(page1);}
  117 |       else {await page1.waitForTimeout(2000);
  118 |       await page1.locator('span.horizontal-menu-title:has-text("Online Insurance")').hover();
  119 |       await page1.waitForTimeout(1000);
  120 |       await page1.locator('span.horizontal-menu-title:has-text("Online Insurance")').click();
  121 |       await page1.getByRole('link', { name: 'Health Insurance', exact: true }).click();
  122 |       await page1.waitForTimeout(5000);
  123 |       await page1.getByRole('textbox', { name: 'Name' }).type('Star');
  124 |       await page1.getByRole('textbox', { name: 'Email' }).type('freedela0912@gmail.com');
  125 |       await page1.getByRole('textbox', { name: 'Mobile Number' }).click();
  126 |       await page1.getByRole('textbox', { name: 'Mobile Number' }).fill('8531913069');
  127 |       await page1.getByRole('button', { name: 'Next' }).click();
  128 |       await page1.locator('#mat-input-45').type('25');
  129 |       await page1.locator('#mat-input-47').type('25');
  130 |       await page1.getByRole('textbox', { name: 'PIN CODE' }).type('600012');
  131 |       await page1.getByRole('button', { name: 'Proceed' }).click();
  132 |       await page1.getByRole('button', { name: '₹ 13280/Yr' }).click();
  133 |       await Acceptaccess(page1);}
  134 |       if (isMobile) { await page1.evaluate(() => window.scrollTo(0, 0)); }
  135 |     await page1.getByRole('combobox', { name: 'Title Title' }).locator('span').click();
  136 |     await page1.getByText('Mr', { exact: true }).click();
  137 |     await page1.getByRole('textbox', { name: 'Last Name' }).type('Comprehensive');
  138 |     await page1.getByLabel('1PROPOSER DETAILS').getByText('OccupationOccupation *').click();
  139 |     await page1.getByText('PROFESSIONAL-ENGINEER').click();
  140 |     await page1.getByRole('tabpanel', { name: 'PROPOSER DETAILS' }).getByLabel('DOB (DD/MM/YYYY) *').fill('09121999');
  141 |     await page1.getByLabel('1PROPOSER DETAILS').locator('div').filter({ hasText: /^Email ID \*$/ }).nth(3).click();
  142 |     await page1.getByRole('tabpanel', { name: 'PROPOSER DETAILS' }).getByLabel('Address 1 *').type('2A');
  143 |     await page1.getByRole('tabpanel', { name: 'PROPOSER DETAILS' }).getByLabel('Address 2 *').type('Star Comprehensive');
  144 |     await page1.getByRole('tabpanel', { name: 'PROPOSER DETAILS' }).getByLabel('Pincode *').type('600012');
  145 |     await page1.waitForTimeout(2000);
  146 |     await page1.getByLabel('1PROPOSER DETAILS').getByLabel('City *').getByText('City').click();
  147 |     await page1.getByText('Chennai').click();
  148 |     await page1.waitForTimeout(2000);
  149 |     await page1.getByLabel('1PROPOSER DETAILS').getByLabel('Area *').getByText('Area').click();
  150 |     await page1.getByText('Perambur Barracks').click();
  151 |     await FormHelper.fillFormAndUploadFiles(page1);
  152 |     await page1.getByLabel('2INSURED DETAILS').getByText('Same as proposer').click();
  153 |     await page1.getByRole('textbox', { name: 'Height(cms)' }).type('170');
  154 |     await page1.getByRole('textbox', { name: 'Weight(kgs)' }).type('70');
  155 |     await page1.waitForTimeout(2000);
  156 |     await page1.locator('#mat-radio-30').getByText('Yes').click();
  157 |     await page1.waitForTimeout(4000);
  158 |     await page1.getByRole('button', { name: '2.INSURED DETAILS' }).click();
  159 |     await page1.waitForTimeout(2000);
  160 |     await page1.getByRole('textbox', { name: 'Name', exact: true }).type('Test SC');
  161 |     await page1.getByRole('region', { name: '2.INSURED DETAILS' }).getByLabel('DOB (DD/MM/YYYY) *').type('09121999');
  162 |     await page1.getByRole('combobox', { name: 'Gender Gender' }).locator('span').click();
  163 |     await page1.getByRole('option', { name: 'Female' }).locator('span').click();
  164 |     await page1.getByRole('textbox', { name: 'Height(cms)' }).type('160');
  165 |     await page1.getByRole('textbox', { name: 'Weight(kgs)' }).type('60');
  166 |     await page1.getByRole('combobox', { name: 'Occupation Occupation' }).locator('span').click();
  167 |     await page1.getByText('Housewives').click();
  168 |     await page1.getByLabel('2INSURED DETAILS').getByText('Relationship with ProposerRelationship with Proposer *').click();
  169 |     await page1.getByText('SPOUSE', { exact: true }).click();
  170 |     await page1.getByLabel('2INSURED DETAILS').getByRole('button', { name: 'Next' }).click();
  171 |     await page1.locator('#mat-input-108').fill('Nominee');
  172 |     await page1.locator('#mat-input-109').fill('25');
  173 |     await page1.getByLabel('3NOMINEE DETAILS').getByLabel('', { exact: true }).locator('span').click();
  174 |     await page1.getByText('Sister').click();
  175 |     await page1.locator('#mat-input-110').fill('100');
  176 |     await page1.waitForTimeout(1000);
  177 |     await page1.getByLabel('3NOMINEE DETAILS').getByRole('button', { name: 'Next' }).click();        }); 
  178 |     test.setTimeout(90000);
  179 |
  180 | test('Assure', async ({ page :page2, isMobile }) => {
  181 |   
  182 |   if (isMobile) {
  183 |     await page2.waitForTimeout(2000);
  184 |     await page2.getByRole('button').filter({ hasText: 'menu' }).click();
  185 |     await page2.locator('a').filter({ hasText: 'Health Insurance' }).click();
  186 |     await page2.waitForTimeout(4000);
  187 |     await page2.getByRole('textbox', { name: 'Email' }).type('freedela0912@gmail.com');
  188 |     await page2.getByRole('textbox', { name: 'Name' }).type('Star');
  189 |     await page2.getByRole('textbox', { name: 'Mobile Number' }).click();
  190 |     await page2.getByRole('textbox', { name: 'Mobile Number' }).fill('8531913069');
```